<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>고인물테스트</title>

        <link rel="apple-touch-icon" sizes="57x57" href="../assets/logo/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="../assets/logo/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="../assets/logo/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="../assets/logo/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="../assets/logo/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="../assets/logo/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="../assets/logo/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="../assets/logo/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="../assets/logo/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="../assets/logo/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="../assets/logo/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="../assets/logo/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="../assets/logo/favicon-16x16.png">
        <meta name="msapplication-TileColor" content="#0A4129">
        <link rel="manifest" href="../assets/logo/manifest.json">
        <meta name="msapplication-TileImage" content="../assets/logo/ms-icon-144x144.png">
        <meta name="theme-color" content="#0A4129">
    </head>
    <body style="overflow-x: hidden;">
        <div id="topFixedBar" class="top-fixed-bar search">
            <div class="container">
                <nav style="position: 0px; margin-top: 0px; gap: 24px;">
                    <button class="go-back">
                        <img src="/Main/assets/back-icon.svg" style="width:24px; height:24px;">
                    </button>        
                    <input type="input" class="search" maxlength="30" placeholder="검색어를 입력해 주세요">
                    <!-- <div class="invisible-search-button" style="position: absolute; right: 35px; width: 50px; height:50px; cursor : pointer;" onclick=""></div> -->
                </nav>
            </div>
        </div>
        <div class="main-container">
            <article>
                <section class="popularNow display-none">
                    <h2 style="margin: 16px 0px;">실시간 인기 출제 요청</h2>
                    <div class="columns">
                        <ol class="column">
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                        </ol>
                        <ol class="column" start="6">
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                        </ol>
                    </div>
                </section>
                <section class="keywords display-none">
                    <h2 style="margin: 16px 0px;">이런 키워드는 어때요?</h2>
                    <div class="bubbles">
                        <a href="#" class="bubble"></a>
                        <a href="#" class="bubble"></a>
                        <a href="#" class="bubble"></a>
                        <a href="#" class="bubble"></a>
                        <a href="#" class="bubble"></a>
                        <a href="#" class="bubble"></a>
                        <a href="#" class="bubble"></a>
                        <a href="#" class="bubble"></a>
                    </div>
                </section>
                <section class="no-results display-none">
                    <img class="icon">
                    <div class="text">
                        <h2>검색 결과가 없습니다 ㅠ^ㅠ</h2>
                        <p>아직 문제가 출제되지 않았어요.<br>
                            아래 버튼을 눌러 출제를 요청하실 수 있습니다.</p>
                    </div>
                    <button class="request">출제 요청하기</button>
                </section>
                <section class="result post-section display-none">
    
                </section>
                <section class="similar post-section display-none">
    
                </section>
                <section class="recommended post-section display-none">
    
                </section>
            </article>
        </div>
        <script src="../src/darkmagic_for_search.js"></script>
        <script>
            function makeScrollable() {
                document.querySelectorAll('article .popularNow .columns .column li').forEach(item => {
                    if(item.dataset.clickable === 'true') return;

                    item.addEventListener('click', (event) => {
                        event.preventDefault();
                
                        const href = item.querySelector('a').href;

                        if(href) {
                            window.location.href = href;
                        }

                        item.dataset.clickable = 'true';
                    });
                });
            }

            function hide(){
                // 해시태그(연관검색결과)가 있으면 "검색 결과가 없습니다, 출제요청" 섹션을 숨긴다.
                try{
                    const inputElem = document.querySelector('input.search');
                    const relatedTestElem = document.querySelector('section.similar');
                    const isTextExist = (inputElem != null) && inputElem.value.trim() !== '';
                    const isRelatedTestExist = !(relatedTestElem.classList.contains("display-none"));

                    //검색창에 텍스트가 있고 && "연관된 모의고사" 섹션이 display 되어있으면
                    if(isTextExist && isRelatedTestExist) {
                        // "검색 결과가 없습니다, 출제요청" 섹션을 가림
                        document.querySelector('.no-results').style.display = 'none';
                    } else if (isTextExist) {
                        document.querySelector('.no-results').style.display = 'flex';
                    }
                } catch(e){ }
            }

            makeScrollable();
            setInterval(() => {
                makeScrollable();
            }, 100);

            hide();
            setInterval(() => {
                hide();
            }, 100);
        </script>
        
    </body>
</html>