"use strict";(self.webpackChunksingsongsangsong=self.webpackChunksingsongsangsong||[]).push([[530],{8592:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={combo:"Cm3u6k52fWn28eHQLMqz",green:"ujLjSJjnohfnXVuOoJNm",count:"nGJ_WG4yg8AuaMwg61Kn",to19:"scofSZJCK_WQZYjn7S8d",to49:"ZnY4sJqKYa8KfzGgLe8A",to199:"akrrTF0yN_gUm_0pdCFp",from200:"jg1iJRex2oFvlHhrM2oc"}},3523:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(t){r(t)}}function l(e){try{s(i.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuizApiClient=void 0;const r=o(n(6509)),a=n(1752),l=n(7091),s=n(9196),c=new l.Api({baseUrl:a.backendUrl});class d{static isNerdTest(e){return i(this,void 0,void 0,(function*(){return"NERD"===(yield c.getArticle(parseInt(e))).data.result.articleType}))}static getQuizTitle(e){return i(this,void 0,void 0,(function*(){return(yield c.getArticle(parseInt(e))).data.result.title}))}static prepareQuestions(e,t=!1){return i(this,void 0,void 0,(function*(){localStorage.setItem(`problems-${e}`,JSON.stringify((yield c.getArticleProblems(parseInt(e),{articleType:t?"NERD":"NORMAL"})).data.result.map((e=>{var n,i,o;return{choices:0===(null===(n=e.choiceDtoList)||void 0===n?void 0:n.length)?null:null===(i=e.choiceDtoList)||void 0===i?void 0:i.map((e=>({label:e.choiceContent,value:e.seq}))),figure:""!==e.problemFigure&&null!==e.problemFigure?e.problemFigure:""!==e.imgUrl&&null!==e.imgUrl?(0,r.default)(a.backendUrl,e.imgUrl):null,figureType:""!==e.problemFigure&&null!==e.problemFigure?"initials":""!==e.imgUrl&&null!==e.imgUrl?"image":"empty",points:10,question:e.problemContent,id:e.problemId,secondCategoryName:t?e.articleTitle:"",condition:0===(null!==(o=e.precaution)&&void 0!==o?o:"").trim().length?null:e.precaution}}))))}))}static shakeProblems(e){var t;const n=JSON.parse(null!==(t=localStorage.getItem(`problems-${e}`))&&void 0!==t?t:"[]"),i=[];for(;n.length>0;)i.push(n.splice(Math.floor(Math.random()*n.length),1)[0]);localStorage.setItem(`problems-${e}`,JSON.stringify(i))}static startQuiz(e){return i(this,void 0,void 0,(function*(){const t=Date.now()+"-"+Math.floor(5e3*Math.random()),{title:n,categoryNm:i}=(yield c.getArticle(parseInt(e))).data.result;return yield d.prepareQuestions(e,!1),localStorage.setItem(`session-${t}`,JSON.stringify({quizId:e,problemIndex:0,points:0,nerdTest:!1,email:"",nickname:"",startedAt:Date.now(),category:i,title:n,postedRank:!1})),new s.QuizSession(t)}))}static startNerdQuiz(e,t){return i(this,void 0,void 0,(function*(){yield c.saveTempUser(Object.assign(Object.assign({},t),{score:0}));const n=Date.now()+"-"+Math.floor(5e3*Math.random()),{title:i,categoryNm:o}=(yield c.getArticle(parseInt(e))).data.result;return yield d.prepareQuestions(e,!0),this.shakeProblems(e),localStorage.setItem(`session-${n}`,JSON.stringify(Object.assign(Object.assign({quizId:e,problemIndex:0,points:0,nerdTest:!0},t),{startedAt:Date.now(),category:o,title:i,postedRank:!1}))),new s.QuizSession(n)}))}static sendStatistics(e,t){return i(this,void 0,void 0,(function*(){console.log(`received statistics: gender=${e}, age=${t}`)}))}static sendSurvey(e,t){return i(this,void 0,void 0,(function*(){yield c.postSurvey({genderCode:e,ageRange:t})}))}}t.QuizApiClient=d},4367:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=void 0,t.isMobile=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}()||"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},1808:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{s(i.next(e))}catch(t){r(t)}}function l(e){try{s(i.throw(e))}catch(t){r(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.displayCorrectnessAndComboAnimation=t.setHelpMeFriendsEventHandler=t.initQuizSolveUI=t.updateProgress=t.updateShareProblem=t.displayProblem=t.createQuestionElement=t.createAnswerElement=t.createAnswerElementForShare=t.addAnswerSubmitListener=void 0;const r=n(3636),a=n(1200),l=n(4367),s=o(n(3983)),c=o(n(877)),d=n(3039),u=o(n(8592)),m=o(n(1039)),p=o(n(1120)),g=o(n(1310));r.library.add(a.faXmark),r.library.add(a.faCheck),r.dom.i2svg({node:document.querySelector(".correctness-effect")});let h=[];function v(e){let t;null===e.choices?(t=document.createElement("div"),t.className="fill-in"):(t=document.createElement("ol"),t.className="choices",e.choices.map((e=>{const t=document.createElement("li");return t.textContent=e.label,t})).forEach((e=>t.appendChild(e))));let n=document.createElement("div");return n.className="answer-container",n.appendChild(t),n}t.addAnswerSubmitListener=function(e){h.push(e)},t.createAnswerElementForShare=v;const f=e=>{const t=document.querySelector(".help-me"),n=t.classList.contains("active");(e=null!=e?e:!n)?(document.querySelector("article").classList.add("display-none"),t.classList.add("active"),x(),(0,d.SetCustomGoBackHandler)((()=>{f(!1)}))):(document.querySelector("article").classList.remove("display-none"),t.classList.remove("active"),k(),(0,d.SetCustomGoBackHandler)(null))},b=(e,t=!0)=>{const n=(0,r.icon)(a.faExclamationCircle).html[0];return i=>{t&&/[^a-zA-Zㄱ-힣0-9\s]/.test(i)?e.innerHTML=n+" 특수문자는 입력할 수 없습니다!":0===i.length?e.innerHTML=n+" 정답이 비어있습니다!":e.innerHTML=""}};function w(e){const t=document.createElement("form");t.className="answer",t.innerHTML='\n        <div class="row with-input">\n        </div>\n        <div class="row warning">\n        </div>\n        <div id="answerButtons" class="row">\n            <button class="idk" type="button">도와줘!</button>\n            <button class="submit" type="submit">제출</button>\n        </div>\n        <div id="idkCount" class="row" style="font-family: LeeSeoyun;">\n            도와줘 기회 3번 남았습니다.\n        </div>';const n=t.querySelector(".row.warning"),o=b(n,null===e.choices),r=t.querySelector(".row.with-input");if(null===e.choices){r.innerHTML='\n        <div class="input-wrapper with-animation">\n            <input autofocus type="input" placeholder="답을 입력하세요">\n        </div>';const e=r.querySelector(".input-wrapper");null==e||e.addEventListener("click",(e=>{var t;e.preventDefault(),null===(t=r.querySelector("input"))||void 0===t||t.focus(),document.documentElement.scrollTop=document.documentElement.scrollHeight}));r.querySelector("input").addEventListener("input",(t=>{o(t.target.value),l.isMobile?(null==e||e.classList.remove("mobile-animated"),null==e||e.classList.add("mobile-animated"),setTimeout((()=>{null==e||e.classList.remove("mobile-animated")}),100)):(null==e||e.classList.remove("animated"),null==e||e.classList.add("animated"),setTimeout((()=>{null==e||e.classList.remove("animated")}),100))}))}else{r.classList.add("radios");for(const t of e.choices){const e=document.createElement("label");e.textContent=t.label,e.innerHTML='<input type="radio" name="answer">'+e.innerHTML,e.querySelector("input").value=t.value,r.appendChild(e)}}return t.querySelector("button.idk").addEventListener("click",(t=>i(this,void 0,void 0,(function*(){t.preventDefault();const n=y();if(n<=0)return void alert("도와줘 기회가 더 이상 남아있지 않습니다.");!function(e){const t=new URLSearchParams(window.location.search).get("session");null!==t&&localStorage.setItem(`${t}-idkRemains`,e.toString())}(n-1),document.getElementById("idkCount").innerText=`도와줘 기회 ${n-1}번 남았습니다.`,f(!0);const i=document.querySelector("button.share-web-share");i.disabled=!0;const o=yield(0,p.default)(document.querySelector(".help-me .problem-box"),{scale:2,backgroundColor:"transparent",useCORS:!0,onclone(e){var t;null===(t=e.querySelector(".help-me .problem-paper-box"))||void 0===t||t.classList.add("html2canvas")}}),r=yield(0,m.default)(o,g.default),a=new File([r],"problem.png",{type:"image/png"});window.setShareData({webShare:{url:`https://goinmultest.pro/quiz/view.html?id=${new URLSearchParams(window.location.search).get("id")}&problem=${e.id}`,text:`모르겠어요... 도와주세요 🚨\n\nhttps://goinmultest.pro/quiz/view.html?id=${new URLSearchParams(window.location.search).get("id")}&problem=${e.id}`,files:[a]},imageBlob:r}),i.disabled=!1})))),t.addEventListener("submit",(i=>{var r;i.preventDefault();let a="";a=null===e.choices?t.querySelector('input[type="input"]').value:null!==(r=[...document.querySelectorAll('input[type="radio"]')].filter((e=>e.checked)).map((e=>e.value))[0])&&void 0!==r?r:"",o(a),""===n.textContent&&h.forEach((t=>t(a,null===e.choices)))})),t}function y(){const e=new URLSearchParams(window.location.search).get("session");return null!==e&&null===localStorage.getItem(`${e}-idkRemains`)?(localStorage.setItem(`${e}-idkRemains`,"3"),3):null===e?3:parseInt(localStorage.getItem(`${e}-idkRemains`))}function S(e,t,n={}){var i,o,r,a;const l=(null!==(i=n.combo)&&void 0!==i?i:0)<20?u.default.to19:(null!==(o=n.combo)&&void 0!==o?o:0)<50?u.default.to49:(null!==(r=n.combo)&&void 0!==r?r:0)<200?u.default.to199:u.default.from200,s=document.createElement("div");s.className="question",s.innerHTML=`\n        ${void 0!==n.currentScore?`<div class="current-score">\n                    ${n.currentScore}점\n        </div>`:""}\n        <div class="problem-paper-box">\n        <div class="correctness-effect"><img></img></div>\n        <div class="category"></div>\n        <div class="text">\n            <span class="id-number">${t}.</span>\n            <span class="problem-text"></span>\n            <div class="points"></div><br>\n            <span class="condition"></span>\n        </div>\n        <div class="figure">\n        </div>\n        <div class="combo">\n            <svg class="${u.default.combo}" version="1.1" xmlns="//www.w3.org/2000/svg" xmlns:xlink="//www.w3.org/1999/xlink" width="10" height="10">\n                <text class="${u.default.green}" x="100" y="100">COMBO</text>\n                <text class="${u.default.count} ${l}" x="200" y="140">x${null!==(a=n.combo)&&void 0!==a?a:0}</text>\n            </svg>\n        </div>\n        </div>`;const c=s.querySelector(".combo svg"),d=function(e){document.body.appendChild(e);const t=e.getBBox();return document.body.removeChild(e),t}(c.cloneNode(!0));switch(c.setAttribute("width",(d.width+10).toString()),c.setAttribute("height",(d.height+10).toString()),c.setAttribute("viewBox",`${d.x-5} ${d.y-5} ${d.width+10} ${d.height+10}`),s.querySelector(".category").textContent=""===e.secondCategoryName?"":"<"+e.secondCategoryName+" 모의고사>",s.querySelector(".condition").textContent=null===e.condition?"":`(${e.condition})`,s.querySelector(".text .problem-text").textContent=e.question,s.querySelector(".text .condition").textContent=null===e.condition?"":`(${e.condition})`,s.querySelector(".points").textContent=`[${e.points}점]`,e.figureType){case"empty":s.querySelector(".figure").classList.add("empty");break;case"image":const t=document.createElement("img");t.crossOrigin="anonymous",t.addEventListener("load",(()=>{t.naturalHeight>t.naturalWidth?t.classList.add("min-height"):t.classList.add("min-width")})),t.src=e.figure,s.querySelector(".figure").append(t);break;case"initials":const n=document.createElement("div");n.className="initials",[...e.figure.split("").map((e=>{if("initial"===("$"===e||"ㄱㄲㄴㄷㄸㄹㅁㅂㅃㅅㅆㅇㅈㅉㅊㅋㅌㅍㅎ".split("").includes(e)?"initial":" "===e?"whitespace":"normal")){const t=document.createElement("div");return t.textContent="$"==e?"　":e,t.className="$"===e||"ㄱㄲㄴㄷㄸㄹㅁㅂㅃㅅㅆㅇㅈㅉㅊㅋㅌㅍㅎ".split("").includes(e)?"initial":" "===e?"whitespace":"normal",t}return e}))].reduce(((e,t)=>("string"==typeof t?(0!==e.length&&e[e.length-1].classList.contains("normal")||(e.push(document.createElement("div")),e[e.length-1].className=" "===t?"whitespace":"normal"),e[e.length-1].textContent+=t):(0!==e.length&&e[e.length-1].classList.contains("initial-group")||(e.push(document.createElement("div")),e[e.length-1].className="initial-group"),e[e.length-1].appendChild(t)),e)),[]).forEach((e=>n.appendChild(e))),s.querySelector(".figure").appendChild(n)}return s}t.createAnswerElement=w,t.createQuestionElement=S,t.displayProblem=function(e,t,n,i={}){e.innerHTML="",e.appendChild(S(t,n,i)),e.appendChild(w(t)),l.isMobile||e.querySelector(".answer input").focus(),window.scrollTo({top:0,behavior:"instant"});const o=y();document.getElementById("idkCount").innerText=`도와줘 기회 ${o}번 남았습니다.`},t.updateShareProblem=function(e,t,n){var i;e.innerHTML="";const o=S(t,n);null===(i=null==o?void 0:o.querySelector(".problem-paper-box"))||void 0===i||i.appendChild(v(t));const r=null==o?void 0:o.querySelector(".problem-paper-box"),a=document.createElement("h1");a.textContent="친구들아, 도와줘!",a.style.color="#14171a",null==r||r.insertBefore(a,r.firstChild),e.appendChild(o)},t.updateProgress=function(e,t,n){document.querySelector(".progress-container .progress").style.width=`${e}%`,[document.querySelector(".progress-container"),document.querySelector(".top-fixed-bar .progress-text")].forEach((e=>{switch(n){case"red":null==e||e.classList.add("red"),null==e||e.classList.remove("yellow");break;case"yellow":null==e||e.classList.add("yellow"),null==e||e.classList.remove("red");break;default:null==e||e.classList.remove("yellow"),null==e||e.classList.remove("red")}}));const i=document.querySelector(".top-fixed-bar .progress-text");i&&t&&(i.textContent=t)};let x=()=>{},k=()=>{};t.initQuizSolveUI=function(){document.querySelector("button.continue").addEventListener("click",(e=>{e.preventDefault(),f(!1)}))},t.setHelpMeFriendsEventHandler=function(e={}){e.onDisabled&&(k=e.onDisabled),e.onEnabled&&(x=e.onEnabled)},t.displayCorrectnessAndComboAnimation=function(e,t){return new Promise(((n,i)=>{const o=document.querySelector(".problem-paper-box"),r=null==o?void 0:o.querySelector(".correctness-effect img");null!==o&&null!==r&&(r.src=e?s.default:c.default,o.classList.add("with-correctness-effect"),(null==t||t)&&o.classList.add("with-combo"),setTimeout((()=>{o.classList.remove("with-correctness-effect"),o.classList.remove("with-combo"),n()}),600))}))}},3983:(e,t,n)=>{e.exports=n.p+"afccde9ca57743079da3.svg"},877:(e,t,n)=>{e.exports=n.p+"32a0c1c4c10d1057487c.svg"},1310:(e,t,n)=>{e.exports=n.p+"35d299537d757432c29a.png"},6509:(e,t,n)=>{function i(){return function(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<e.length;i++){var o=e[i];if("string"!=typeof o)throw new TypeError("Url must be a string. Received "+o);""!==o&&(i>0&&(o=o.replace(/^[\/]+/,"")),o=i<e.length-1?o.replace(/[\/]+$/,""):o.replace(/[\/]+$/,"/"),t.push(o))}var r=t.join("/"),a=(r=r.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}n.r(t),n.d(t,{default:()=>i})}}]);