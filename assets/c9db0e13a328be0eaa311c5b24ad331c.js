(()=>{"use strict";var e,t={1213:(e,t,r)=>{r.r(t)},9559:function(e,t,r){var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,l){function s(e){try{a(o.next(e))}catch(t){l(t)}}function i(e){try{a(o.throw(e))}catch(t){l(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}a((o=o.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(1752),s=r(7091),i=n(r(4130)),a=r(2811),c=(e,t)=>{let r=[],o=[...e];for(let n=0;n<t&&o.length>0;n++)r.push(o.splice(Math.floor(Math.random()*o.length),1)[0]);return r},u=new s.Api({baseUrl:l.backendUrl});t.default=class{static randomRecommend(e){return o(this,void 0,void 0,(function*(){const t=(yield u.getArticles()).data.result.filter((e=>"NERD"!==e.articleType)).map(a.transformArticleDtoToPost);return c(t,e)}))}static recommend(e,t){return o(this,void 0,void 0,(function*(){const r=(yield u.getNextArticles({title:e,size:t})).data.result.filter((e=>"NERD"!==e.articleType)).map(a.transformArticleDtoToPost);if(null==r){const e=(yield u.getArticles()).data.result.filter((e=>"NERD"!==e.articleType)).map(a.transformArticleDtoToPost);return c(e,t)}return r}))}static hotMakeTestRequests(e){return o(this,void 0,void 0,(function*(){return(yield u.getPopularRequestsList()).data.result.slice(0,e)}))}static recommendKeyword(e){return o(this,void 0,void 0,(function*(){return(yield u.getHashtags({size:e})).data.result.map((e=>e.tag))}))}static searchByHashtags(e){return o(this,void 0,void 0,(function*(){return(yield u.getArticlesRelatedToHashtags({keyword:e})).data.result.map(a.transformArticleDtoToPost)}))}static search(e){return o(this,void 0,void 0,(function*(){return e.length>30&&(e=e.substring(0,30)),{result:(yield u.getArticles({keyword:e})).data.result.map(a.transformArticleDtoToPost),similar:yield this.searchByHashtags(e)}}))}static requestMakeTest(e){return o(this,void 0,void 0,(function*(){yield i.default.requestMakeTest(e)}))}}},550:function(e,t,r){var o,n,l=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,l){function s(e){try{a(o.next(e))}catch(t){l(t)}}function i(e){try{a(o.throw(e))}catch(t){l(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}a((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(3636);r(1213);const a=r(1200),c=r(9116),u=s(r(9559)),d=r(2226),p=s(r(3657)),h=s(r(931));i.library.add(a.faSearch),i.library.add(a.faChevronLeft),i.dom.i2svg({node:document.querySelector("#topFixedBar")}),document.querySelector(".no-results .icon").src=p.default,document.body.style.setProperty("--search-icon",`url("data:image/svg+xml;,${encodeURIComponent((0,i.icon)(a.faSearch,{styles:{opacity:"0.5",color:"white"}}).html[0])}")`),document.body.style.setProperty("--search-icon-active",`url("data:image/svg+xml;,${encodeURIComponent((0,i.icon)(a.faSearch,{styles:{color:"white"}}).html[0])}")`),null===(o=document.querySelector("button.go-back"))||void 0===o||o.addEventListener("click",(e=>{e.preventDefault(),history.state,history.back()})),(0,h.default)('5월 5일 23시 59분까지 1등을 유지하신 분께,  "당신의 최애 장르 공식 굿즈 10만 원 상당"을 이벤트 선물로 드립니다!'),(0,c.addFloatingButonListener)((()=>location.href="/"));let f=null!==(n=new URLSearchParams(location.search.length>0?location.search.substring(1):"").get("query"))&&void 0!==n?n:"";const y=document.querySelector("input.search");y.value=f;const m=()=>l(void 0,void 0,void 0,(function*(){var e;if([...document.querySelectorAll("section")].forEach((e=>e.classList.add("display-none"))),[...document.querySelectorAll("section.post-section")].forEach((e=>e.innerHTML="")),""===f)[...document.querySelectorAll("section")].forEach((e=>e.classList.contains("popularNow")||e.classList.contains("keywords")?e.classList.remove("display-none"):e.classList.add("display-none"))),(e=>{const t=document.querySelector(".keywords .bubbles");for(t.innerHTML="",e.length>15&&(e=(e=e.sort((()=>Math.random()-.5))).slice(0,15));e.length>0;){const r=e.pop();if(void 0===r)break;const o=document.createElement("a");o.className="bubble",o.href="?query="+encodeURIComponent(r),o.addEventListener("click",(e=>{e.preventDefault(),g(r,!0)})),o.textContent=r,t.appendChild(o)}})(yield u.default.recommendKeyword(150)),(e=>{const t=document.querySelector(".popularNow .columns");t.innerHTML="";let r=1;for(;e.length>0;){let o=document.createElement("ol");o.className="column",o.start=r;for(let t=0;t<5;t++){const t=e.pop();if(void 0===t)break;const n=document.createElement("li");n.innerHTML='<div class="marker">'+r+'</div><a href="#"></a>';const l=n.querySelector("a");l.href="?query="+encodeURIComponent(t),l.addEventListener("click",(e=>{e.preventDefault(),g(t,!0)})),l.textContent=t,o.appendChild(n),r++}t.appendChild(o)}})(yield u.default.hotMakeTestRequests(10));else{const t=yield u.default.search(f),r=t.result.length>0;if(r){const e=document.querySelector(".result");(0,d.preparePlaceholderSection)(e,[{count:t.result.length,landscape:!1}]),(0,d.fillPlaceholderSectionInto)({portraits:t.result,title:`총 ${t.result.length}건의 검색 결과가 있습니다.`},e);let r=e.querySelector("h2");null!=r&&(r.style.color="white",r.style.fontSize="18px",r.style.margin="16px 0px",r.style.padding="0px",r.style.fontFamily="LeeSeoyun"),e.classList.remove("display-none")}if(t.similar.length>0){const e=document.querySelector(".similar");(0,d.preparePlaceholderSection)(e,[{count:t.similar.length,landscape:!1}]),(0,d.fillPlaceholderSectionInto)({portraits:t.similar,title:"연관된 모의고사"},e);let r=e.querySelector("h2");null!=r&&(r.style.color="white",r.style.margin="16px 0px",r.style.padding="0px"),e.classList.remove("display-none")}if(!r&&0===t.similar.length){const t=document.querySelector("button.request");t.classList.remove("requested"),t.disabled=!1,t.textContent="출제 요청하기",t.style.cursor="pointer",t.style.zIndex="999",null===(e=document.querySelector(".no-results"))||void 0===e||e.classList.remove("display-none")}const o=yield u.default.randomRecommend(10),n=document.querySelector(".recommended");(0,d.preparePlaceholderSection)(n,[{count:10,landscape:!1}]),(0,d.fillPlaceholderSectionInto)({portraits:o,title:"추천 모의고사"},n);let l=n.querySelector("h2");null!=l&&(l.style.color="white",l.style.margin="16px 0px",l.style.padding="0px"),n.classList.remove("display-none")}}));let v;const g=(e,t=!1)=>{f=e,history.replaceState(history.state,"","/search.html?query="+encodeURIComponent(e)),clearTimeout(v),v=setTimeout((()=>{m()}),100),t&&(y.value=e)};y.addEventListener("input",(e=>{g(e.target.value)}));const b=document.querySelector("button.request");null==b||b.addEventListener("click",(e=>{e.preventDefault(),u.default.requestMakeTest(f).then((()=>{b.disabled=!0,b.classList.add("requested"),b.textContent="요청 완료"}))})),m()},3657:(e,t,r)=>{e.exports=r.p+"1d3bb6731aceceac9f04.svg"}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var l=r[e]={exports:{}};return t[e].call(l.exports,l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,r,n,l)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,n,l]=e[u],i=!0,a=0;a<r.length;a++)(!1&l||s>=l)&&Object.keys(o.O).every((e=>o.O[e](r[a])))?r.splice(a--,1):(i=!1,l<s&&(s=l));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,n,l]},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&!e;)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={434:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,l,[s,i,a]=r,c=0;if(s.some((t=>0!==e[t]))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(a)var u=a(o)}for(t&&t(r);c<s.length;c++)l=s[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},r=self.webpackChunksingsongsangsong=self.webpackChunksingsongsangsong||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[803,134,130,811],(()=>o(550)));n=o.O(n)})();